[buildout]
extends =
    base.cfg
    sources.cfg

parts +=
    i18ndude
    omelette
    tags
    test
    zopeskel
    paster

sources = sources
auto-checkout = *
always-checkout = force

[instance]
debug-mode = on
verbose-security = on
eggs +=
    plone.reload
    Products.PDBDebugMode
    collective.monkeypatcher
    emas.app    #here while we are developing

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}
packages = ./

[test]
recipe = collective.xmltestreport
eggs =
    ${instance:eggs}
    collective.topictree [test]
    emas.theme [test]
    emas.transforms [test]
    rhaptos.xmlfile [test]
    rhaptos.compilation [test]
    Products.CMFQuickInstallerTool [test]
defaults = ['--exit-with-status', '--auto-color', '--auto-progress',
    '--verbose', '--ndiff']

[tags]
recipe = z3c.recipe.tag:tags
eggs = ${instance:eggs}

[i18ndude]
unzip = true
recipe = zc.recipe.egg
eggs = i18ndude

[zopeskel]
unzip = true
recipe = zc.recipe.egg
eggs =
    ZopeSkel
    Paste
    PasteDeploy
    PasteScript
    zopeskel.dexterity<=2.99
    ${instance:eggs}

[paster]
recipe = zc.recipe.egg
eggs =
    PasteScript
    gomobile.templates
    ${instance:eggs}
