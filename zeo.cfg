[buildout]
extends =
    base.cfg

parts =
    zeoserver
    instance1
    instance2
    zopepy

newest = false

sources = sources

[zeoserver]
recipe = plone.recipe.zeoserver
zeo-address = 8300

[head]
recipe = plone.recipe.zope2instance
debug-mode = off
verbose-security = off
zeo-client = true
zeo-address = ${zeoserver:zeo-address}
zodb-cache-size = 200000
shared-blob = on
user = admin:admin
zeo-var = ${buildout:directory}/var
eggs = ${instance:eggs}

[instance1]
<= head
http-address = 8301
ftp-address = 8321

[instance2]
<= head
http-address = 8302

# redeclare read-only sources for deployment
[sources]
rhaptos.xmlfile = git git://github.com/Connexions/rhaptos.xmlfile.git
rhaptos.compilation = git git://github.com/Connexions/rhaptos.compilation.git
rhaptos.cnxmltransforms = git git://github.com/Connexions/rhaptos.cnxmltransforms.git
rhaptos.eip = git git://github.com/Connexions/rhaptos.eip.git
emas.theme = git git://github.com/Siyavula/emas.theme.git ref=1.2
upfront.shorturl = git git://github.com/izak/upfront.shorturl.git
plone.app.textfield = git git://github.com/rochecompaan/plone.app.textfield.git
plone.transformchain = git git://github.com/rochecompaan/plone.transformchain.git
fullmarks.mathjax = git git://github.com/fullmarks/fullmarks.mathjax.git
siyavula.what = git git://github.com/Siyavula/siyavula.what.git
